#### 背景
很多老的后台管理项目面临的一些问题
> 1. 没有统一的书写规范，千人千面，维护效率低
> 2. 没有强大的组件库，开发效率低
> 3. 前后端耦合，页面维护也需要占用后端资源

而这些问题, 恰恰是SPA所擅长的
> 1. 统一书写规范，
> 2. 强大组件库，避免重复造轮子
> 3. 前后端解耦，后端专注于业务逻辑，而非页面

但是往往老项目比较大，不能一蹴而就，进行重构。就需要适用于过度版本的重构方案

#### SPA嵌入老系统
适用环境：
1. 老系统每个页面都有单独路由
2. 新页面
步骤：
1. 沿用老系统
2. SPA单独建立开发项目
3. 单独起一个路由作为SPA路径，如/spa/
4. 将SPA开发完项目打包进入老项目的vm中
5. 所有新页面均走前端路由，挂载到spa/下



##### 1. 新起一套服务
这种方案的优势是，与老项目无任何耦合。两个项目并行存在，等到新服务完全包含老业务，把老业务下线。
这种方案，比较耗时，如果项目重构周期较长，将很长时间存在两个项目。维护也要同时维护两个项目，体验上会有新老系统的跳转。

##### 1.1 新起一套服务（iframe嵌入老系统）
新老系统的跳转通过iframe嵌套完成，其他的缺点仍旧存在

##### 2 新页面放入老系统中
将SPA开发完页面，打包放入老系统中指定路由，如/spa/#/
仅需要维护一套代码即可，同一时间也仅有一套项目。
在SPA页面中，新页面为前端路由接管，老页面为正常的跳转

##### 2.1 新页面放入老系统中（老系统无路由）
在开发的时候，碰到过比较奇葩的系统，整个系统只有一个页面，
后端通过局部替换DOM，实现各个二级菜单功能页，（原本就没法实现，路由跳转到系统内指定页面）

##### 改造方案1
SPA页面也仅仅是写局部内容，路由跳转会有很多问题，后期切换还要涉及一些通用头，导航的开发，不算是一种一劳永逸的方案，但是优点是，不需要后端介入。如果后端资源很紧张，也可以使用这种方案。（目前就是=。=）
##### 改造方案2
原有系统添加路由 /old, /spa 原有页面放入/old下
新生成页面放入/spa下。 两者互不干涉。
> 注意！ 采用这种方案，需要后端配合
> 1. 后端需要修改老系统路径/old
> 2. 后端需要创建新系统路径/spa
> 3. 后端需要提供权限接口，以便新系统二级菜单使用





